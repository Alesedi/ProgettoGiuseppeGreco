<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="1000" viewBox="0 0 1400 1000">
  <style>
    .cls { fill:#fff; stroke:#222; stroke-width:1.5px; font-family:Verdana,Arial,Helvetica,sans-serif; }
    .title { font-weight:bold; font-size:14px; }
    .attr { font-size:12px; }
    .line { stroke:#333; stroke-width:1.2px; marker-end: url(#arrow); }
  </style>

  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#333" />
    </marker>
  </defs>

  <!-- Users -->
  <g transform="translate(40,40)">
    <rect class="cls" x="0" y="0" width="260" height="120" rx="4"/>
    <text class="title" x="12" y="22">users</text>
    <text class="attr" x="12" y="42">id</text>
    <text class="attr" x="12" y="58">email</text>
    <text class="attr" x="12" y="74">password_hash</text>
    <text class="attr" x="12" y="90">full_name, phone, created_at</text>
  </g>

  <!-- Addresses -->
  <g transform="translate(340,40)">
    <rect class="cls" x="0" y="0" width="360" height="160" rx="4"/>
    <text class="title" x="12" y="22">addresses</text>
    <text class="attr" x="12" y="42">id</text>
    <text class="attr" x="12" y="58">user_id</text>
    <text class="attr" x="12" y="74">recipient_name, street, city</text>
    <text class="attr" x="12" y="90">postal_code, province, country</text>
    <text class="attr" x="12" y="106">phone, is_default, created_at</text>
  </g>

  <!-- Products -->
  <g transform="translate(40,240)">
    <rect class="cls" x="0" y="0" width="320" height="140" rx="4"/>
    <text class="title" x="12" y="22">products</text>
    <text class="attr" x="12" y="42">id</text>
    <text class="attr" x="12" y="58">sku, name, description</text>
    <text class="attr" x="12" y="74">power_watt, efficiency, price</text>
    <text class="attr" x="12" y="90">stock, image, created_at</text>
  </g>

  <!-- Product options -->
  <g transform="translate(400,240)">
    <rect class="cls" x="0" y="0" width="320" height="120" rx="4"/>
    <text class="title" x="12" y="22">product_options</text>
    <text class="attr" x="12" y="42">id</text>
    <text class="attr" x="12" y="58">product_id</text>
    <text class="attr" x="12" y="74">name, description, price_delta</text>
  </g>

  <!-- Carts -->
  <g transform="translate(40,440)">
    <rect class="cls" x="0" y="0" width="260" height="100" rx="4"/>
    <text class="title" x="12" y="22">carts</text>
    <text class="attr" x="12" y="42">id</text>
    <text class="attr" x="12" y="58">user_id, created_at, updated_at</text>
  </g>

  <!-- Cart items -->
  <g transform="translate(340,440)">
    <rect class="cls" x="0" y="0" width="360" height="120" rx="4"/>
    <text class="title" x="12" y="22">cart_items</text>
    <text class="attr" x="12" y="42">id</text>
    <text class="attr" x="12" y="58">cart_id</text>
    <text class="attr" x="12" y="74">product_id, product_option_id</text>
    <text class="attr" x="12" y="90">quantity, unit_price</text>
  </g>

  <!-- Orders -->
  <g transform="translate(760,40)">
    <rect class="cls" x="0" y="0" width="340" height="120" rx="4"/>
    <text class="title" x="12" y="22">orders</text>
    <text class="attr" x="12" y="42">id</text>
    <text class="attr" x="12" y="58">user_id, address_id</text>
    <text class="attr" x="12" y="74">total_amount, status</text>
    <text class="attr" x="12" y="90">created_at, updated_at</text>
  </g>

  <!-- Order items -->
  <g transform="translate(760,200)">
    <rect class="cls" x="0" y="0" width="340" height="140" rx="4"/>
    <text class="title" x="12" y="22">order_items</text>
    <text class="attr" x="12" y="42">id</text>
    <text class="attr" x="12" y="58">order_id</text>
    <text class="attr" x="12" y="74">product_id, product_option_id</text>
    <text class="attr" x="12" y="90">quantity, unit_price, subtotal</text>
  </g>

  <!-- Payments -->
  <g transform="translate(760,380)">
    <rect class="cls" x="0" y="0" width="340" height="120" rx="4"/>
    <text class="title" x="12" y="22">payments</text>
    <text class="attr" x="12" y="42">id</text>
    <text class="attr" x="12" y="58">order_id, amount</text>
    <text class="attr" x="12" y="74">method, status, transaction_ref</text>
    <text class="attr" x="12" y="90">created_at</text>
  </g>

  <!-- Payment cards -->
  <g transform="translate(760,560)">
    <rect class="cls" x="0" y="0" width="340" height="140" rx="4"/>
    <text class="title" x="12" y="22">payment_cards</text>
    <text class="attr" x="12" y="42">id</text>
    <text class="attr" x="12" y="58">user_id</text>
    <text class="attr" x="12" y="74">cardholder_name, card_brand</text>
    <text class="attr" x="12" y="90">card_last4, exp_month, exp_year, token</text>
  </g>

  <!-- Relationship lines -->
  <line class="line" x1="300" y1="70" x2="340" y2="70" />
  <text x="320" y="62" font-size="12">1..N</text>

  <line class="line" x1="200" y1="330" x2="400" y2="290" />
  <text x="260" y="310" font-size="12">1..N</text>

  <line class="line" x1="180" y1="490" x2="340" y2="500" />
  <text x="240" y="486" font-size="12">1..N</text>

  <line class="line" x1="760" y1="160" x2="700" y2="160" />
  <text x="720" y="152" font-size="12">1..N</text>

  <line class="line" x1="900" y1="340" x2="900" y2="280" />
  <text x="910" y="310" font-size="12">1..N</text>

  <line class="line" x1="900" y1="460" x2="900" y2="500" />
  <text x="910" y="480" font-size="12">1..1</text>

  <text x="40" y="950" font-size="11" fill="#333">Diagramma UML (class-like) per SoleDomus — entità principali e relazioni</text>
</svg>
